{"version":3,"sources":["storage.ts"],"names":["app","app.common","app.common.Storage","app.common.Storage.constructor"],"mappings":"AAAA,IAAO,GAAG,CAmDT;AAnDD,WAAO,GAAG;IAACA,IAAAA,MAAMA,CAmDhBA;IAnDUA,WAAAA,MAAMA,EAACA,CAACA;QAEfC,IAAaA,OAAOA;YAEhBC,SAFSA,OAAOA,CAEIA,SAAiBA;gBAFzCC,iBAgDCA;gBA9CuBA,cAASA,GAATA,SAASA,CAAQA;gBAI9BA,aAAQA,GAAGA,UAACA,SAAiBA;oBAChCA,MAAMA,CAACA,IAAIA,OAAOA,CAACA,SAASA,CAACA,CAACA;gBAClCA,CAACA,CAAAA;gBAEMA,QAAGA,GAAGA;oBACTA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,YAAYA,CAACA,OAAOA,CAACA,KAAIA,CAACA,SAASA,CAACA,IAAIA,IAAIA,CAACA,CAACA;gBACpEA,CAACA,CAAAA;gBAEMA,cAASA,GAAGA,UAACA,MAAsBA;oBACtCA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,YAAYA,CAACA,OAAOA,CAACA,KAAIA,CAACA,SAASA,CAACA,IAAIA,IAAIA,CAACA,CAACA;oBAErEA,IAAIA,WAAWA,GAAGA,IAAIA,CAACA;oBAEvBA,KAAKA,CAACA,OAAOA,CAACA,UAACA,IAAIA;wBACfA,EAAEA,CAACA,CAACA,MAAMA,CAACA,IAAIA,KAAKA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;4BAC5BA,WAAWA,GAAGA,IAAIA,CAACA;wBACvBA,CAACA;oBACLA,CAACA,CAACA,CAACA;oBAEHA,MAAMA,CAACA,WAAWA,CAACA;gBACvBA,CAACA,CAAAA;gBAEMA,QAAGA,GAAGA,UAACA,MAAsBA;oBAChCA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,YAAYA,CAACA,OAAOA,CAACA,KAAIA,CAACA,SAASA,CAACA,IAAIA,IAAIA,CAACA,CAACA;oBAErEA,IAAIA,SAASA,GAAGA,KAAKA,CAACA;oBAEtBA,KAAKA,CAACA,OAAOA,CAACA,UAACA,IAAIA;wBACfA,EAAEA,CAACA,CAACA,MAAMA,CAACA,IAAIA,KAAKA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;4BAC5BA,SAASA,GAAGA,IAAIA,CAACA;4BACjBA,IAAIA,CAACA,KAAKA,GAAGA,MAAMA,CAACA,KAAKA,CAACA;4BAC1BA,IAAIA,CAACA,QAAQA,GAAGA,MAAMA,CAACA,QAAQA,CAACA;4BAChCA,YAAYA,CAACA,OAAOA,CAACA,KAAIA,CAACA,SAASA,EAAEA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,CAACA,CAACA;wBAChEA,CAACA;oBACLA,CAACA,CAACA,CAACA;oBAEHA,EAAEA,CAACA,CAACA,CAACA,SAASA,CAACA,CAACA,CAACA;wBACbA,KAAKA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;wBACnBA,YAAYA,CAACA,OAAOA,CAACA,KAAIA,CAACA,SAASA,EAAEA,IAAIA,CAACA,SAASA,CAACA,KAAKA,CAACA,CAACA,CAACA;oBAChEA,CAACA;gBACLA,CAACA,CAAAA;YA1CDA,CAACA;YA4CLD,cAACA;QAADA,CAhDAD,AAgDCC,IAAAD;QAhDYA,cAAOA,GAAPA,OAgDZA,CAAAA;IACLA,CAACA,EAnDUD,MAAMA,GAANA,UAAMA,KAANA,UAAMA,QAmDhBA;AAADA,CAACA,EAnDM,GAAG,KAAH,GAAG,QAmDT","file":"storage.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.common {\r\n\r\n    export class Storage implements IStorage {\r\n\r\n        constructor(private storageId: string) {\r\n\r\n        }\r\n\r\n        public instance = (storageId: string) => {\r\n            return new Storage(storageId);\r\n        }\r\n\r\n        public get = () => {\r\n            return JSON.parse(localStorage.getItem(this.storageId) || '[]');\r\n        }\r\n\r\n        public getByName = (params: INameValuePair) => {\r\n            var items = JSON.parse(localStorage.getItem(this.storageId) || '[]');\r\n\r\n            var storageItem = null;\r\n\r\n            items.forEach((item) => {\r\n                if (params.name === item.name) {\r\n                    storageItem = item;\r\n                }\r\n            });\r\n\r\n            return storageItem;\r\n        }\r\n\r\n        public put = (params: INameValuePair) => {\r\n            var items = JSON.parse(localStorage.getItem(this.storageId) || '[]');\r\n\r\n            var itemExist = false;\r\n\r\n            items.forEach((item) => {\r\n                if (params.name === item.name) {\r\n                    itemExist = true;\r\n                    item.value = params.value;\r\n                    item.category = params.category;\r\n                    localStorage.setItem(this.storageId, JSON.stringify(items));                    \r\n                }\r\n            });\r\n\r\n            if (!itemExist) {\r\n                items.push(params);\r\n                localStorage.setItem(this.storageId, JSON.stringify(items));\r\n            }\r\n        }\r\n\r\n    }\r\n} "]}