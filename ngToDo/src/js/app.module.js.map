{"version":3,"sources":["app.module.ts"],"names":["app","app.run","app.config"],"mappings":"AAAA,IAAO,GAAG,CAyDT;AAzDD,WAAO,GAAG,EAAC,CAAC;IAERA,OAAOA,CAACA,MAAMA,CAACA,KAAKA,EAAEA;QAElBA,aAAaA;QAEbA,YAAYA;QACZA,cAAcA;QACdA,UAAUA;QACVA,QAAQA;KAEXA,CAACA,CACGA,MAAMA,CAACA;QACJA,0BAA0BA;QAC1BA,eAAeA;QACfA,mBAAmBA;QACnBA,qBAAqBA;QACrBA,mCAAmCA;QACnCA,MAAMA;KAACA,CAACA,CACXA,GAAGA,CAACA,CAACA,WAAWA,EAACA,YAAYA,EAACA,OAAOA,EAACA,GAAGA,CAACA,CAACA,CAC3CA,UAAUA,CAACA,eAAeA,EAAEA,CAACA,WAAWA,EAACA,YAAYA,EAACA,SAASA,EAACA,QAAQA,EAAEA,OAAOA,EAACA,iBAAaA,CAACA,CAACA,CAACA;IAEvGA,SAASA,GAAGA,CAACA,SAA8BA,EAACA,UAAgCA,EAAEA,KAA8BA;QAExGC,UAAUA,CAACA,GAAGA,CAACA,sBAAsBA,EAACA,UAACA,KAAuBA,EAAEA,QAAgBA,EAAEA,QAAgBA;YAC9FA,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA,GAAGA,EAAEA,IAAIA,QAAQA,CAACA,OAAOA,CAACA,QAAQA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;gBAEjDA,SAASA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;YAC7BA,CAACA;QACLA,CAACA,CAACA,CAACA;IACPA,CAACA;IACDD,SAASA,MAAMA,CAACA,wBAA4BA,EACxCA,aAA+BA,EAC/BA,iBAAuCA,EACvCA,mBAAgDA,EAChDA,iCAA4EA;QAE5EE,IAAIA,QAAQA,GAAGA,iCAAiCA,CAACA,QAAQA,CAACA;QAE1DA,wBAAwBA,CAACA,kBAAkBA,CAACA,UAACA,IAAIA;YAC7CA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,QAAQA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;gBACvCA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,QAAQA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBACrDA,EAAEA,CAACA,CAACA,IAAIA,KAAKA,QAAQA,CAACA,CAACA,CAACA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBACrCA,MAAMA,CAACA,UAAUA,GAAGA,QAAQA,CAACA,CAACA,CAACA,CAACA,OAAOA,GAAGA,SAASA,GAAGA,IAAIA,GAAGA,OAAOA,CAACA;oBACzEA,CAACA;gBACLA,CAACA;YACLA,CAACA;QACLA,CAACA,CAACA,CAACA;QAEHA,aAAaA,CAACA,YAAYA,CAACA,IAAIA,CAACA,0BAA0BA,CAACA,CAACA;QAE5DA,aAAaA,CAACA,YAAYA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA,CAACA;QAElDA,mBAAmBA,CAACA,SAASA,CAACA,OAAOA,CAACA,CAACA;IAE3CA,CAACA;AAELF,CAACA,EAzDM,GAAG,KAAH,GAAG,QAyDT","file":"app.module.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app {\r\n\r\n    angular.module(\"app\", [\r\n\r\n        \"ngNewRouter\",\r\n\r\n        \"app.common\",\r\n        \"app.security\",\r\n        \"app.toDo\",\r\n        \"app.ui\"\r\n\r\n    ])\r\n        .config([\r\n            \"$componentLoaderProvider\",\r\n            \"$httpProvider\",\r\n            \"$locationProvider\",\r\n            \"apiEndpointProvider\",         \r\n            \"featureComponentsMappingsProvider\",\r\n            config])\r\n        .run([\"$location\",\"$rootScope\",\"token\",run])\r\n        .controller(\"appController\", [\"$location\",\"$rootScope\",\"$router\",\"routes\", \"token\",AppController]);\r\n\r\n    function run($location: ng.ILocationService,$rootScope: ng.IRootScopeService, token: ISessionStorageProperty) {\r\n\r\n        $rootScope.$on(\"$locationChangeStart\",(event: ng.IAngularEvent, newState: string, oldState: string) => {\r\n            if (!token.get() && newState.indexOf('/login') < 0) {\r\n\r\n                $location.path(\"/login\");\r\n            }\r\n        });\r\n    }\r\n    function config($componentLoaderProvider:any,\r\n        $httpProvider: ng.IHttpProvider,\r\n        $locationProvider: ng.ILocationProvider,\r\n        apiEndpointProvider: common.IApiEndpointProvider,\r\n        featureComponentsMappingsProvider: common.IFeatureComponentsMappingsProvider) {\r\n\r\n        var mappings = featureComponentsMappingsProvider.mappings;\r\n\r\n        $componentLoaderProvider.setTemplateMapping((name) => {\r\n            for (var i = 0; i < mappings.length; i++) {\r\n                for (var c = 0; c < mappings[i].components.length; c++) {\r\n                    if (name === mappings[i].components[c]) {\r\n                        return 'src/app/' + mappings[i].feature + '/views/' + name + '.html';\r\n                    }    \r\n                }                \r\n            }            \r\n        });\r\n\r\n        $httpProvider.interceptors.push(\"authorizationInterceptor\");\r\n\r\n        $httpProvider.interceptors.push(\"requestCounter\");\r\n\r\n        apiEndpointProvider.configure(\"/api/\");\r\n\r\n    }\r\n\r\n} "]}