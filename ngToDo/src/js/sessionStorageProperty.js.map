{"version":3,"sources":["sessionStorageProperty.ts"],"names":["app","app.common","app.common.SessionStorageProperty","app.common.SessionStorageProperty.constructor"],"mappings":"AAAA,IAAO,GAAG,CAuCT;AAvCD,WAAO,GAAG;IAACA,IAAAA,MAAMA,CAuChBA;IAvCUA,WAAAA,MAAMA,EAACA,CAACA;QAEfC,IAAaA,sBAAsBA;YAE/BC,SAFSA,sBAAsBA,CAEXA,UAAgCA,EAAUA,OAAYA,EAAUA,IAAYA;gBAFpGC,iBAoCCA;gBAlCuBA,eAAUA,GAAVA,UAAUA,CAAsBA;gBAAUA,YAAOA,GAAPA,OAAOA,CAAKA;gBAAUA,SAAIA,GAAJA,IAAIA,CAAQA;gBAKzFA,0BAAqBA,GAAGA,UAACA,KAAuBA,EAAEA,QAAgBA;oBACrEA,EAAEA,CAACA,CAACA,QAAQA,CAACA,OAAOA,CAACA,QAAQA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;wBACjCA,KAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA;wBACjBA,KAAIA,CAACA,GAAGA,CAACA,EAAEA,IAAIA,EAAEA,IAAIA,EAAEA,CAACA,CAACA;oBAC7BA,CAACA;gBACLA,CAACA,CAAAA;gBAEMA,QAAGA,GAAGA;oBACTA,EAAEA,CAACA,CAACA,KAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;wBACZA,MAAMA,CAACA,KAAIA,CAACA,IAAIA,CAACA;oBACrBA,CAACA;oBAEDA,IAAAA,CAACA;wBACGA,KAAIA,CAACA,IAAIA,GAAGA,KAAIA,CAACA,OAAOA,CAACA,SAASA,CAACA,EAAEA,IAAIA,EAAEA,KAAIA,CAACA,GAAGA,EAAEA,CAACA,CAACA,KAAKA,CAACA;oBACjEA,CAAEA;oBAAAA,KAAKA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA;oBAEjBA,CAACA;oBAEDA,MAAMA,CAACA,KAAIA,CAACA,IAAIA,CAACA;gBACrBA,CAACA,CAAAA;gBAEMA,QAAGA,GAAGA,UAACA,MAAWA;oBACrBA,KAAIA,CAACA,IAAIA,GAAGA,MAAMA,CAACA,IAAIA,CAACA;oBACxBA,KAAIA,CAACA,OAAOA,CAACA,GAAGA,CAACA,EAAEA,IAAIA,EAAEA,KAAIA,CAACA,GAAGA,EAAEA,KAAKA,EAAEA,MAAMA,CAACA,IAAIA,EAAEA,CAACA,CAACA;gBAC7DA,CAACA,CAAAA;gBA3BGA,UAAUA,CAACA,GAAGA,CAACA,sBAAsBA,EAAEA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA;YACvEA,CAACA;YA+BLD,6BAACA;QAADA,CApCAD,AAoCCC,IAAAD;QApCYA,6BAAsBA,GAAtBA,sBAoCZA,CAAAA;IACLA,CAACA,EAvCUD,MAAMA,GAANA,UAAMA,KAANA,UAAMA,QAuChBA;AAADA,CAACA,EAvCM,GAAG,KAAH,GAAG,QAuCT","file":"sessionStorageProperty.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.common {\r\n\r\n    export class SessionStorageProperty implements ISessionStorageProperty {\r\n\r\n        constructor(private $rootScope: ng.IRootScopeService, private storage: any, private name: string) {\r\n\r\n            $rootScope.$on(\"$locationChangeStart\", this.onLocationChangeStart);\r\n        }\r\n\r\n        public onLocationChangeStart = (event: ng.IAngularEvent, newState: string) => {\r\n            if (newState.indexOf(\"/login\") > 0) {\r\n                this.data = null;\r\n                this.set({ data: null });\r\n            }\r\n        }\r\n\r\n        public get = () => {\r\n            if (this.data) {\r\n                return this.data;\r\n            }\r\n\r\n            try {\r\n                this.data = this.storage.getByName({ name: this.key }).value;\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n            return this.data;\r\n        }\r\n\r\n        public set = (params: any) => {\r\n            this.data = params.data;\r\n            this.storage.put({ name: this.key, value: params.data });\r\n        }\r\n\r\n        private data: any;\r\n\r\n        private key: string;\r\n    }\r\n} "]}