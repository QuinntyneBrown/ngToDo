{"version":3,"sources":["sessionStorageProperty.ts"],"names":["app","app.common","app.common.StorageProperty","app.common.StorageProperty.constructor","app.common.SessionStorageProperty","app.common.SessionStorageProperty.constructor"],"mappings":";;;;;;AAAA,IAAO,GAAG,CA6CT;AA7CD,WAAO,GAAG;IAACA,IAAAA,MAAMA,CA6ChBA;IA7CUA,WAAAA,MAAMA,EAACA,CAACA;QAEfC,IAAaA,eAAeA;YAExBC,SAFSA,eAAeA,CAELA,OAAYA,EAASA,IAAYA;gBAFxDC,iBA0BCA;gBAxBsBA,YAAOA,GAAPA,OAAOA,CAAKA;gBAASA,SAAIA,GAAJA,IAAIA,CAAQA;gBAI7CA,QAAGA,GAAGA;oBACTA,EAAEA,CAACA,CAACA,KAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;wBACZA,MAAMA,CAACA,KAAIA,CAACA,IAAIA,CAACA;oBACrBA,CAACA;oBAEDA,IAAAA,CAACA;wBACGA,KAAIA,CAACA,IAAIA,GAAGA,KAAIA,CAACA,OAAOA,CAACA,SAASA,CAACA,EAAEA,IAAIA,EAAEA,KAAIA,CAACA,IAAIA,EAAEA,CAACA,CAACA,KAAKA,CAACA;oBAClEA,CAAEA;oBAAAA,KAAKA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA;oBAEjBA,CAACA;oBAEDA,MAAMA,CAACA,KAAIA,CAACA,IAAIA,CAACA;gBACrBA,CAACA,CAAAA;gBAEMA,QAAGA,GAAGA,UAACA,MAAWA;oBACrBA,KAAIA,CAACA,IAAIA,GAAGA,MAAMA,CAACA,IAAIA,CAACA;oBACxBA,KAAIA,CAACA,OAAOA,CAACA,GAAGA,CAACA,EAAEA,IAAIA,EAAEA,KAAIA,CAACA,IAAIA,EAAEA,KAAKA,EAAEA,MAAMA,CAACA,IAAIA,EAAEA,CAACA,CAACA;gBAC9DA,CAACA,CAAAA;YAnBDA,CAACA;YAsBLD,sBAACA;QAADA,CA1BAD,AA0BCC,IAAAD;QA1BYA,sBAAeA,GAAfA,eA0BZA,CAAAA;QAEDA,IAAaA,sBAAsBA;YAASG,UAA/BA,sBAAsBA,UAAwBA;YAEvDA,SAFSA,sBAAsBA,CAEXA,UAAgCA,EAASA,OAAYA,EAASA,IAAYA;gBAFlGC,iBAcCA;gBAXOA,kBAAMA,OAAOA,EAAEA,IAAIA,CAACA,CAACA;gBADLA,eAAUA,GAAVA,UAAUA,CAAsBA;gBAASA,YAAOA,GAAPA,OAAOA,CAAKA;gBAASA,SAAIA,GAAJA,IAAIA,CAAQA;gBAKvFA,0BAAqBA,GAAGA,UAACA,KAAuBA,EAAEA,QAAgBA;oBACrEA,EAAEA,CAACA,CAACA,QAAQA,CAACA,OAAOA,CAACA,QAAQA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;wBACjCA,KAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA;wBACjBA,KAAIA,CAACA,GAAGA,CAACA,EAAEA,IAAIA,EAAEA,IAAIA,EAAEA,CAACA,CAACA;oBAC7BA,CAACA;gBACLA,CAACA,CAAAA;gBARGA,UAAUA,CAACA,GAAGA,CAACA,sBAAsBA,EAAEA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA;YACvEA,CAACA;YASLD,6BAACA;QAADA,CAdAH,AAcCG,EAd2CH,eAAeA,EAc1DA;QAdYA,6BAAsBA,GAAtBA,sBAcZA,CAAAA;IACLA,CAACA,EA7CUD,MAAMA,GAANA,UAAMA,KAANA,UAAMA,QA6ChBA;AAADA,CAACA,EA7CM,GAAG,KAAH,GAAG,QA6CT","file":"sessionStorageProperty.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.common {\r\n\r\n    export class StorageProperty {\r\n\r\n        constructor(public storage: any, public name: string) {\r\n\r\n        }\r\n\r\n        public get = () => {\r\n            if (this.data) {\r\n                return this.data;\r\n            }\r\n\r\n            try {\r\n                this.data = this.storage.getByName({ name: this.name }).value;\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n            return this.data;\r\n        }\r\n\r\n        public set = (params: any) => {\r\n            this.data = params.data;\r\n            this.storage.put({ name: this.name, value: params.data });\r\n        }\r\n\r\n        public data: any;\r\n    }\r\n\r\n    export class SessionStorageProperty extends StorageProperty implements ISessionStorageProperty {\r\n\r\n        constructor(private $rootScope: ng.IRootScopeService, public storage: any, public name: string) {\r\n            super(storage, name);\r\n            $rootScope.$on(\"$locationChangeStart\", this.onLocationChangeStart);\r\n        }\r\n\r\n        public onLocationChangeStart = (event: ng.IAngularEvent, newState: string) => {\r\n            if (newState.indexOf(\"/login\") > 0) {\r\n                this.data = null;\r\n                this.set({ data: null });\r\n            }\r\n        }\r\n\r\n    }\r\n} "]}