{"version":3,"sources":["ui/functions/positionDetachedElement.ts"],"names":["app","app.ui"],"mappings":"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","file":"ui/functions/positionDetachedElement.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.ui {\r\n\r\n    angular.module(\"app.ui\").value(\"positionDetachedElement\",(triggerElement: HTMLElement, element: HTMLElement, directionPriorityList: string[], elementRect: ClientRect, alignment: string, elementSurroundingWindowSpaceRect: IRect): IPositionDetachedElementResponseDto => {\r\n\r\n        var triggerElementRect: ClientRect = triggerElement.getBoundingClientRect();\r\n\r\n        if (alignment === \"center\") {\r\n\r\n            var triggerElementVerticalMiddle = ((triggerElementRect.bottom - triggerElementRect.top) / 2) + triggerElementRect.top;\r\n\r\n            var triggerElementHorizontalMiddle = ((triggerElementRect.right - triggerElementRect.left) / 2) + triggerElementRect.left;            \r\n\r\n            for (var i = 0; i < directionPriorityList.length; i++) {\r\n\r\n                var lastOption: boolean = directionPriorityList.length == i + 1;\r\n\r\n                switch (directionPriorityList[i]) {\r\n\r\n                case \"top\":\r\n\r\n                    if (triggerElementRect.top > elementRect.height || lastOption) {\r\n\r\n                        if (triggerElementRect.width > elementRect.width || lastOption) {\r\n                            element.style.top = (triggerElementRect.top - elementRect.height) + \"px\";\r\n                            element.style.left = triggerElementHorizontalMiddle - (elementRect.width / 2) + \"px\";\r\n                            return {\r\n                                position: directionPriorityList[i],\r\n                                elementRect: elementRect\r\n                            };\r\n\r\n                        } else {\r\n                            var diff = (elementRect.width - triggerElementRect.width) / 2;\r\n\r\n                            if (((triggerElementRect.right + diff) < window.innerWidth) && triggerElementRect.left > diff) {\r\n                                element.style.top = (triggerElementRect.top - elementRect.height) + \"px\";\r\n                                element.style.left = triggerElementHorizontalMiddle - (elementRect.width / 2) + \"px\";\r\n                                return {\r\n                                    position: directionPriorityList[i],\r\n                                    elementRect: elementRect\r\n                                };\r\n                            }\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    break;\r\n\r\n                case \"left\":\r\n                    if (triggerElementRect.left > elementRect.width || lastOption) {\r\n\r\n                        if (triggerElementRect.height > elementRect.height || lastOption) {\r\n                            element.style.left = (triggerElementRect.left - elementRect.width) + \"px\";\r\n                            element.style.top = triggerElementVerticalMiddle - (elementRect.height / 2) + \"px\";\r\n                            return {\r\n                                position: directionPriorityList[i],\r\n                                elementRect: elementRect\r\n                            };\r\n                        } else {\r\n                            var diff = (elementRect.height - triggerElementRect.height) / 2;\r\n\r\n                            if (((triggerElementRect.bottom + diff) < window.innerHeight) && triggerElementRect.top > diff) {\r\n                                element.style.left = (triggerElementRect.left - elementRect.width) + \"px\";\r\n                                element.style.top = triggerElementVerticalMiddle - (elementRect.height / 2) + \"px\";\r\n                                return {\r\n                                    position: directionPriorityList[i],\r\n                                    elementRect: elementRect\r\n                                };\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                    break;\r\n\r\n                case \"bottom\":\r\n\r\n                    if (((window.innerHeight - triggerElementRect.bottom) > elementRect.height) || lastOption) {\r\n\r\n                        if (triggerElementRect.width > elementRect.width || lastOption) {\r\n                            element.style.top = triggerElementRect.bottom + \"px\";\r\n                            element.style.left = triggerElementHorizontalMiddle - (elementRect.width / 2) + \"px\";\r\n                            return {\r\n                                position: directionPriorityList[i],\r\n                                elementRect: elementRect\r\n                            };\r\n\r\n                        } else {\r\n\r\n                            var diff = (elementRect.width - triggerElementRect.width) / 2;\r\n\r\n                            if (((triggerElementRect.right + diff) < window.innerWidth) && triggerElementRect.left > diff) {\r\n                                element.style.top = triggerElementRect.bottom + \"px\";\r\n                                element.style.left = triggerElementHorizontalMiddle - (elementRect.width / 2) + \"px\";\r\n                                return {\r\n                                    position: directionPriorityList[i],\r\n                                    elementRect: elementRect\r\n                                };\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n\r\n                case \"right\":\r\n\r\n\r\n                    if (((window.innerWidth - triggerElementRect.right) > elementRect.width) || lastOption) {\r\n\r\n                        if (triggerElementRect.height > elementRect.height || lastOption) {\r\n                            element.style.left = triggerElementRect.right + \"px\";\r\n                            element.style.top = triggerElementVerticalMiddle - (elementRect.height / 2) + \"px\";\r\n                            return {\r\n                                position: directionPriorityList[i],\r\n                                elementRect: elementRect\r\n                            };\r\n                        } else {\r\n\r\n                            var diff = (elementRect.height - triggerElementRect.height) / 2;\r\n\r\n                            if (((triggerElementRect.bottom + diff) < window.innerHeight) && triggerElementRect.top > diff) {\r\n                                element.style.left = triggerElementRect.right + \"px\";\r\n                                element.style.top = triggerElementVerticalMiddle - (elementRect.height / 2) + \"px\";\r\n                                return {\r\n                                    position: directionPriorityList[i],\r\n                                    elementRect: elementRect\r\n                                };\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            throw new Error(\"Unable to position place pop up.\");\r\n        }\r\n        \r\n        if (alignment === \"left\") {\r\n            element.style.left = triggerElementRect.left + \"px\";\r\n\r\n            for (var i = 0; i < directionPriorityList.length; i++) {\r\n\r\n                var lastOption: boolean = directionPriorityList.length == i + 1;\r\n\r\n                if (directionPriorityList[i] === \"top\") {\r\n                    if (triggerElementRect.top >= elementRect.height || lastOption)  {\r\n\r\n                        element.style.bottom = triggerElementRect.top + \"px\";\r\n\r\n                        return {\r\n                            position: directionPriorityList[i],\r\n                            elementRect: elementRect\r\n                        };\r\n                    }\r\n                }\r\n\r\n                if (directionPriorityList[i] === \"bottom\") {\r\n                    if (window.innerHeight - triggerElementRect.bottom >= elementRect.height || lastOption) {\r\n\r\n                        element.style.top = triggerElementRect.bottom + \"px\";\r\n\r\n                        return {\r\n                            position: directionPriorityList[i],\r\n                            elementRect: elementRect\r\n                        };\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    });\r\n} "]}