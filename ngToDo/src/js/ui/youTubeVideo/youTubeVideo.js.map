{"version":3,"sources":["ui/youTubeVideo/youTubeVideo.ts"],"names":["app","app.ui","app.ui.YouTubeVideoDirective","app.ui.YouTubeVideoDirective.constructor"],"mappings":"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","file":"ui/youTubeVideo/youTubeVideo.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.ui {\r\n\r\n    \"use strict\";\r\n\r\n    class YouTubeVideoDirective {\r\n\r\n        constructor(private $window: ng.IWindowService) {\r\n\r\n        }\r\n\r\n        public static instance = ($window: ng.IWindowService) => {\r\n            return new YouTubeVideoDirective($window);\r\n        }\r\n\r\n        public restrict: string = \"E\";\r\n\r\n        public template:string = \"<div></div>\";\r\n\r\n        public scope: any = {\r\n            height:\"@\",\r\n            width:\"@\",\r\n            videoid:\"@\",\r\n            playerVars:\"@\"\r\n        };\r\n\r\n        public link = (scope: ng.IScope, element: ng.IAugmentedJQuery) => {\r\n\r\n            var tag = <HTMLScriptElement>document.getElementById(\"you-tube-video\");\r\n\r\n            if (tag) {\r\n                player = new YT.Player(element.children()[0], {\r\n                    playerVars: scope[\"playerVars\"],\r\n                    height: scope[\"height\"],\r\n                    width: scope[\"width\"],\r\n                    videoId: scope[\"videoid\"]\r\n                });\r\n            }\r\n            else {\r\n\r\n\r\n                tag = document.createElement(\"script\");\r\n                tag.src = \"https://www.youtube.com/iframe_api\";\r\n                tag.id = \"you-tube-video\";\r\n                var firstScriptTag = document.getElementsByTagName('script')[0];\r\n                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n                var player;\r\n\r\n                scope.$watch(\"videoid\", (newValue, oldValue) => {\r\n                    if (newValue == oldValue) {\r\n                        return;\r\n                    }\r\n\r\n                    player.cueVideoById(scope[\"videoid\"]);\r\n\r\n                });\r\n\r\n                this.$window[\"onYouTubeIframeAPIReady\"] =  () => {\r\n                    player = new YT.Player(element.children()[0], {\r\n                        playerVars: scope[\"playerVars\"],\r\n                        height: scope[\"height\"],\r\n                        width: scope[\"width\"],\r\n                        videoId: scope[\"videoid\"]\r\n                    });\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\n    angular.module(\"app.ui\").directive(\"youTubeVideo\", [\"$window\",YouTubeVideoDirective.instance]);\r\n} "]}