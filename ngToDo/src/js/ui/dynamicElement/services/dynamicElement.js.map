{"version":3,"sources":["ui/dynamicElement/services/dynamicElement.ts"],"names":["app","app.ui","app.ui.DynamicElement","app.ui.DynamicElement.constructor","app.ui.DynamicElement.processResponse"],"mappings":"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","file":"ui/dynamicElement/services/dynamicElement.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.ui {\r\n\r\n    class DynamicElement implements IDynamicElement {\r\n\r\n        constructor(\r\n            private $compile: ng.ICompileService,\r\n            private $http: ng.IHttpService,\r\n            private $q: ng.IQService,\r\n            private $templateCache: ng.ITemplateCacheService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private clientRectEquals: IClientRectEquals,\r\n            private getBoundingRectForDetachedElement: IGetBoundingRectForDetachedElement,\r\n            private getSurroundingWindowSpace: IGetSurroundingWindowSpace,\r\n            private positionDetachedElement: IPositionDetachedElement) {\r\n        }\r\n\r\n        public viewBag: any;\r\n\r\n        public showDynamicElement = (DynamicElementOptions: IDynamicElementOptions) => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            this.$timeout.cancel(this.timeoutPromise);\r\n\r\n            if (this.clientRectEquals(this.triggerElementRect, DynamicElementOptions.element.getBoundingClientRect())) {\r\n                this.triggerElementRect = null;\r\n                this.hideAsync().then(() => {\r\n                    this.destroy(true);\r\n                    deferred.resolve();\r\n\r\n                });\r\n\r\n                return deferred.promise;\r\n\r\n            } else {\r\n                this.destroy(true);\r\n            }\r\n            this.initialize(DynamicElementOptions);\r\n\r\n            this.fetchAndSetTemplateAsync(DynamicElementOptions.templateUrl).then(() => {\r\n                this.DynamicElementElement = this.createDynamicElementElement(this.htmlTemplate);\r\n\r\n                (<any>this.$compile)(this.DynamicElementElement)(DynamicElementOptions.triggerScope);\r\n\r\n                this.$timeout(() => {\r\n                    this.styleDynamicElement(this.DynamicElementElement, this.displayArrow);\r\n\r\n                    var responseDto: IPositionDetachedElementResponseDto = this.positionDetachedElement(DynamicElementOptions.element, this.DynamicElementElement, DynamicElementOptions.directionPriorityList, this.getBoundingRectForDetachedElement(this.DynamicElementElement), this.alignment, this.getSurroundingWindowSpace(DynamicElementOptions.element, window));\r\n\r\n                    var arrowElement: HTMLElement = <HTMLElement>this.DynamicElementElement.querySelector(\".arrow\");\r\n\r\n                    var arrowBorderElement: HTMLElement = <HTMLElement>this.DynamicElementElement.querySelector(\".arrow-border\");\r\n\r\n                    switch (responseDto.position) {\r\n                        case \"top\":\r\n                            arrowElement.style.width = \"0px\";\r\n                            arrowElement.style.height = \"0px\";\r\n                            arrowElement.style.borderLeft = \"11px solid transparent\";\r\n                            arrowElement.style.borderRight = \"11px solid transparent\";\r\n                            arrowElement.style.borderBottom = \"11px solid white\";\r\n                            arrowElement.style.position = \"absolute\";\r\n                            arrowElement.style.marginLeft = ((responseDto.elementRect.width - 15) / 2) + \"px\";\r\n                            arrowElement.style.top = ((responseDto.elementRect.height - 31) / 2) + \"px\";\r\n                            break;\r\n\r\n                        case \"bottom\":\r\n                            arrowElement.style.width = \"0px\";\r\n                            arrowElement.style.height = \"0px\";\r\n                            arrowElement.style.borderLeft = \"11px solid transparent\";\r\n                            arrowElement.style.borderRight = \"11px solid transparent\";\r\n                            arrowElement.style.borderTop = \"11px solid white\";\r\n                            arrowElement.style.position = \"absolute\";\r\n                            arrowElement.style.marginLeft = (responseDto.elementRect.width - 15) + \"px\";\r\n                            arrowElement.style.top = ((responseDto.elementRect.height - 31) / 2) + \"px\";\r\n                            break;\r\n\r\n                        case \"left\":\r\n                            arrowElement.style.width = \"0px\";\r\n                            arrowElement.style.height = \"0px\";\r\n                            arrowElement.style.borderTop = \"11px solid transparent\";\r\n                            arrowElement.style.borderBottom = \"11px solid transparent\";\r\n                            arrowElement.style.borderLeft = \"11px solid white\";\r\n                            arrowElement.style.position = \"absolute\";\r\n                            arrowElement.style.marginLeft = (responseDto.elementRect.width - 21) + \"px\";\r\n                            arrowElement.style.top = ((responseDto.elementRect.height - 31) / 2) + \"px\";\r\n\r\n                            break;\r\n\r\n                        case \"right\":\r\n                            arrowElement.style.width = \"0px\";\r\n                            arrowElement.style.height = \"0px\";\r\n                            arrowElement.style.borderTop = \"11px solid transparent\";\r\n                            arrowElement.style.borderBottom = \"11px solid transparent\";\r\n                            arrowElement.style.borderRight = \"11px solid white\";\r\n                            arrowElement.style.position = \"absolute\";\r\n                            arrowElement.style.marginLeft = \"-10px\";\r\n                            arrowElement.style.top = ((responseDto.elementRect.height - 31) / 2) + \"px\";\r\n                            break;\r\n\r\n                        default:\r\n                    }\r\n\r\n\r\n                    document.body.appendChild(this.DynamicElementElement);\r\n\r\n                    this.$timeout(() => {\r\n                        this.DynamicElementElement.style.opacity = \"100\";\r\n\r\n                        this.hideElementAsync(this.DynamicElementElement, DynamicElementOptions.visibilityDurationInMilliseconds).then((results: any) => {\r\n\r\n                        }).then(() => {\r\n                            deferred.resolve();\r\n                        });\r\n\r\n                    }, 100);\r\n\r\n                }, 0);\r\n            });\r\n            return deferred.promise;\r\n        }\r\n\r\n        public dismiss = () => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            this.$timeout.cancel(this.timeoutPromise);\r\n\r\n            var DynamicElementElement = document.querySelector(\"#pop-up\");\r\n\r\n            if (DynamicElementElement) {\r\n                this.triggerElementRect = null;\r\n                this.hideAsync().then(() => {\r\n                    this.destroy(true);\r\n                    deferred.resolve();\r\n\r\n                });\r\n            } else {\r\n                deferred.resolve();\r\n            }\r\n\r\n            return deferred.promise;\r\n        }\r\n        private initialize = (DynamicElementOptions: IDynamicElementOptions) => {\r\n            this.alignment = DynamicElementOptions.alignment || \"center\";\r\n            this.displayArrow = DynamicElementOptions.displayArrow;\r\n            this.margin = DynamicElementOptions.margin || \"5px\";\r\n            this.triggerElement = DynamicElementOptions.element;\r\n            this.triggerScope = DynamicElementOptions.triggerScope;\r\n            this.visibilityDurationInMilliseconds = DynamicElementOptions.visibilityDurationInMilliseconds;\r\n            this.triggerElementRect = DynamicElementOptions.element.getBoundingClientRect();\r\n            this.transitionDurationInMilliseconds = DynamicElementOptions.transitionDurationInMilliseconds;\r\n            this.viewBag = DynamicElementOptions.viewBag;\r\n        }\r\n\r\n        private fetchAndSetTemplateAsync = (templateUrl: string) => {\r\n            return this.$http({ method: \"GET\", url: templateUrl, cache: this.$templateCache }).then((results: any) => {\r\n                this.htmlTemplate = results.data;\r\n            });\r\n        }\r\n\r\n        private hideElementAsync = (element: HTMLElement, visibilityDurationInMilliseconds: number) => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            this.timeoutPromise = this.$timeout(() => {\r\n                this.destroy(false).then(() => {\r\n                    deferred.resolve();\r\n                });\r\n            }, visibilityDurationInMilliseconds);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        private processResponse(results) {\r\n            var deferred = this.$q.defer();\r\n\r\n            this.createDynamicElementElement(results.data);\r\n\r\n            (<any>this.$compile)(this.DynamicElementElement)(this.triggerScope);\r\n\r\n            deferred.resolve();\r\n            return deferred.promise;\r\n        }\r\n        private createDynamicElementElement = (template: string) => {\r\n            var DynamicElementElement = document.createElement(\"div\");\r\n            DynamicElementElement.id = \"pop-up\";\r\n\r\n            var arrowElement = document.createElement(\"div\");\r\n            arrowElement.setAttribute(\"class\", \"arrow\");\r\n            DynamicElementElement.appendChild(arrowElement);\r\n\r\n            var arrowBorderElement = document.createElement(\"div\");\r\n            arrowBorderElement.setAttribute(\"class\", \"arrow-border\");\r\n            DynamicElementElement.appendChild(arrowBorderElement);\r\n\r\n            var innerElement = document.createElement(\"div\");\r\n            innerElement.setAttribute(\"class\", \"inner\");\r\n            innerElement.innerHTML = template;\r\n            DynamicElementElement.appendChild(innerElement);\r\n\r\n            return DynamicElementElement;\r\n        }\r\n\r\n        private destroy = (force: boolean) => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            var DynamicElementElement = document.getElementById(\"pop-up\");\r\n\r\n            if (!force) {\r\n                this.$timeout(() => { DynamicElementElement.style.opacity = \"0\"; }, 0)\r\n                    .then(() => {\r\n\r\n                    this.triggerElementRect = null;\r\n                    this.$timeout(() => {\r\n                        if (DynamicElementElement && DynamicElementElement.parentNode) {\r\n                            DynamicElementElement.parentNode.removeChild(DynamicElementElement);\r\n                        }\r\n                    }, this.transitionDurationInMilliseconds).then(() => {\r\n                        deferred.resolve();\r\n                    });\r\n                });\r\n\r\n                return deferred.promise;\r\n\r\n            } else {\r\n\r\n\r\n                if (DynamicElementElement) {\r\n                    try {\r\n                        DynamicElementElement.parentNode.removeChild(DynamicElementElement);\r\n                    } catch (error) {\r\n                        console.log(\"error\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private setOpacityToZeroAsync = () => {\r\n            var deferred = this.$q.defer();\r\n\r\n            this.$timeout(() => {\r\n                this.DynamicElementElement.style.opacity = \"0\";\r\n                deferred.resolve();\r\n            }, 0);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        private waitForTransitionAsync = () => {\r\n            var deferred = this.$q.defer();\r\n\r\n            this.$timeout(() => {\r\n                deferred.resolve();\r\n            }, this.transitionDurationInMilliseconds);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        private hideAsync = () => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            this.setOpacityToZeroAsync()\r\n                .then(this.waitForTransitionAsync)\r\n                .then(() => {\r\n                deferred.resolve();\r\n            });\r\n\r\n\r\n            return deferred.promise;\r\n        }\r\n        private styleDynamicElement = (DynamicElementElement: HTMLElement, displayArrow: boolean) => {\r\n            DynamicElementElement.setAttribute(\"class\", \"pop-up\");\r\n            DynamicElementElement.setAttribute(\"style\", \"-webkit-transition: opacity \" + this.transitionDurationInMilliseconds + \"ms ease-in-out;-o-transition: opacity \" + this.transitionDurationInMilliseconds + \"ms ease-in-out;transition: opacity \" + this.transitionDurationInMilliseconds + \"ms ease-in-out;\");\r\n            DynamicElementElement.style.opacity = \"0\";\r\n            DynamicElementElement.style.position = \"absolute\";\r\n            DynamicElementElement.style.display = \"block\";\r\n\r\n            if (displayArrow) {\r\n                DynamicElementElement.style.border = \"10px solid transparent\";\r\n            }\r\n\r\n            var innerElement: HTMLElement = <HTMLElement>DynamicElementElement.querySelector(\".inner\");\r\n            innerElement.setAttribute(\"style\", \"-webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);border-radius:5px;\");\r\n            innerElement.style.backgroundColor = \"white\";\r\n            innerElement.style.margin = this.margin;\r\n            innerElement.style.border = \"1px solid #cccccc\";\r\n            innerElement.style.boxShadow = \"0 5px 10px rgba(0, 0, 0, 0.2)\";\r\n        }\r\n\r\n        private triggerElementRect: ClientRect;\r\n\r\n        private timeoutPromise: ng.IPromise<any>;\r\n\r\n        private transitionDurationInMilliseconds: number;\r\n\r\n        private visibilityDurationInMilliseconds: number;\r\n\r\n        private triggerElement: HTMLElement;\r\n\r\n        private DynamicElementElement: HTMLElement;\r\n\r\n        private triggerScope: IDynamicElementScope;\r\n\r\n        private htmlTemplate: string;\r\n\r\n        private alignment: string;\r\n\r\n        private margin: string;\r\n\r\n        private displayArrow: boolean;\r\n\r\n        private position: string;\r\n\r\n    }\r\n\r\n    angular.module(\"app.ui\").service(\"dynamicElement\", [\r\n        \"$compile\",\r\n        \"$http\",\r\n        \"$q\",\r\n        \"$templateCache\",\r\n        \"$timeout\",\r\n        \"clientRectEquals\",\r\n        \"getBoundingRectForDetachedElement\",\r\n        \"getSurroundingWindowSpace\",\r\n        \"positionDetachedElement\",\r\n        DynamicElement]);\r\n}"]}