{"version":3,"sources":["toDo/services/toDo.ts"],"names":["app","app.toDo","app.toDo.ToDo","app.toDo.ToDo.constructor"],"mappings":"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","file":"toDo/services/toDo.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.toDo {\r\n    \r\n    class ToDo extends common.Entity<ToDo> implements IToDo {\r\n\r\n        constructor(public $location: ng.ILocationService,\r\n            public $q: ng.IQService,\r\n            private toDoService: IToDoService) {\r\n            super($location,$q, toDoService,'/toDo');\r\n            this.status = 1;\r\n        }\r\n\r\n        public instance = (data: any = null) => {\r\n            var deferred = this.$q.defer();\r\n\r\n            var toDo;\r\n\r\n            if (data === null) {\r\n                toDo = new ToDo(this.$location,this.$q, this.toDoService);\r\n            } else {\r\n                toDo = new ToDo(this.$location,this.$q, this.toDoService);\r\n                toDo.id = data.id || 0;\r\n                toDo.name = data.name;\r\n                toDo.description = data.description;\r\n                toDo.status = data.status || 1;\r\n            }\r\n\r\n            deferred.resolve(toDo);\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        public id: number;\r\n\r\n        public name: string;\r\n\r\n        public description: string;\r\n\r\n        public status: number;\r\n\r\n        public completedDateTime: Date;\r\n\r\n        public createdDateTime: Date;\r\n\r\n        public getValidationErrors = (): string[]=> {\r\n            \r\n            var validationErrors: string[] = [];\r\n\r\n            if (!this.name || this.name.length < 0)\r\n                validationErrors.push(\"Name can not be empty\");\r\n\r\n            if (!this.description || this.description.length < 0)\r\n                validationErrors.push(\"Description can not be empty\");\r\n\r\n            return validationErrors;\r\n        }\r\n\r\n        public complete = () => {\r\n            if (this.isValid()) {\r\n                return this.setStatus(5);\r\n            }\r\n        }\r\n\r\n        public toDo = () => {\r\n            return this.setStatus(2);\r\n        }\r\n\r\n        public toDoNever = () => {\r\n            return this.setStatus(3);\r\n        }\r\n\r\n        public start = () => {\r\n            return this.setStatus(4);\r\n        }\r\n\r\n        public setStatus = (status: number) => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            this.status = status;\r\n\r\n            this.save().then((results) => {\r\n                deferred.resolve();\r\n            });\r\n\r\n            return deferred.promise;            \r\n        }\r\n\r\n        public getRecent = () => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            this.toDoService.getRecent().then((results) => {\r\n                var entities = [];\r\n\r\n                var promises = [];\r\n\r\n                for (var i = 0; i < results.data.length; i++) {\r\n                    promises.push(this.instance(results.data[i]));\r\n                }\r\n\r\n                this.$q.all(promises).then((allResults) => {\r\n                    for (var x = 0; x < allResults.length; x++) {\r\n                        entities.push(allResults[x]);\r\n                    }                    \r\n                    deferred.resolve(entities);\r\n                });\r\n\r\n            });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n    }\r\n\r\n    angular.module(\"app.toDo\").service(\"toDo\", [\"$location\",\"$q\",\"toDoService\",ToDo]);\r\n} "]}