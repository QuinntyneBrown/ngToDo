{"version":3,"sources":["toDo/controllers/toDosController.ts"],"names":["app","app.toDo","app.toDo.ToDosController","app.toDo.ToDosController.constructor"],"mappings":"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","file":"toDo/controllers/toDosController.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.toDo {\r\n\r\n    \"use strict\";\r\n\r\n    class ToDosController extends security.AuthenticatedController {\r\n\r\n        constructor(\r\n            public $document: ng.IDocumentService,\r\n            public $location: ng.ILocationService,\r\n            private $q: ng.IQService,\r\n            public $timeout: ng.ITimeoutService,\r\n            private bind: common.IBind,\r\n            private toDo: IToDo,\r\n            public token: common.ISessionStorageProperty\r\n            ) {\r\n            super($location, $timeout, token);\r\n\r\n        }\r\n\r\n        public activate = () => {\r\n\r\n            angular.element(this.$document).bind(\"toDoRemoved\",this.onToDoRemoved);\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            this.toDo.getAll().then((results) => {\r\n                this.toDos = results;\r\n\r\n                deferred.resolve(true);\r\n            }).catch((Error) => {\r\n                deferred.resolve(false);\r\n            });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        public deactivate = () => {\r\n\r\n            angular.element(this.$document).unbind(\"toDoRemoved\");\r\n\r\n            this.toDos = null;\r\n            this.token = null;\r\n            this.toDo = null;\r\n            this.promise = null;\r\n        }\r\n\r\n        private onToDoRemoved = (event: any) => {            \r\n            for (var i = 0; i < this.toDos.length; i++) {\r\n                if (this.toDos[i].id === event.originalEvent.entity.id) {\r\n                    this.toDos.splice(i, 1);\r\n                }\r\n            }            \r\n        }\r\n\r\n        private toDos: IToDo[];\r\n        \r\n\r\n    }\r\n\r\n    angular.module(\"app.toDo\")\r\n        .controller(\"toDosController\", [\"$document\", \"$location\", \"$q\", \"$timeout\", \"bind\", \"toDo\", \"token\", ToDosController]);\r\n} "]}