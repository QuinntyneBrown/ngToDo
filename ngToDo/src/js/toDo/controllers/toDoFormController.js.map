{"version":3,"sources":["toDo/controllers/toDoFormController.ts"],"names":["app","app.toDo","app.toDo.ToDoFormController","app.toDo.ToDoFormController.constructor"],"mappings":"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","file":"toDo/controllers/toDoFormController.js","sourceRoot":"C:/Projects/ngToDo/ngToDo/","sourcesContent":["module app.toDo {\r\n\r\n    \"use strict\";\r\n\r\n    class ToDoFormController extends security.AuthenticatedController {\r\n\r\n        constructor(\r\n            public $location:ng.ILocationService,\r\n            private $q: ng.IQService,            \r\n            private $routeParams: ng.route.IRouteParamsService,\r\n            public $timeout: ng.ITimeoutService,\r\n            private appBarService: ui.IAppBarService,\r\n            private toDo: IToDo,\r\n            public token: common.ISessionStorageProperty) {\r\n            super($location, $timeout, token);\r\n\r\n\r\n        }\r\n\r\n        public setAppBarButtons = () => {\r\n            this.appBarService.setButtons([\r\n                {\r\n                    type: \"Done\",\r\n                    text: \"Done\",\r\n                    onClick: this.toDo.complete,\r\n                    isValid: this.toDo.isValid\r\n                },\r\n                {\r\n                    type: \"Save\",\r\n                    text: \"Save\",\r\n                    onClick: () => {\r\n                        this.toDo.save().then((results) => {\r\n                            this.$location.path(\"/toDo/list\");\r\n                        });\r\n                    },\r\n                    isValid: this.toDo.isValid\r\n\r\n                }\r\n            ]);\r\n        }\r\n        public activate = () => {\r\n\r\n            var deferred = this.$q.defer();\r\n\r\n            if (this.$routeParams[\"toDoId\"]) {\r\n\r\n                this.toDo.getById(this.$routeParams[\"toDoId\"]).then((results) => {\r\n                    this.toDo = results;\r\n                    this.setAppBarButtons();\r\n                    deferred.resolve(true);\r\n                }).catch((Error) => {\r\n                    deferred.resolve(false);\r\n                });\r\n            } else {\r\n                this.toDo.instance(null).then((results) => {\r\n                    this.toDo = results;\r\n                    this.setAppBarButtons();\r\n                    deferred.resolve(true);\r\n                });\r\n            }\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        public deactivate = () => {            \r\n            this.toDo = null;\r\n            this.token = null;\r\n            this.appBarService = null;\r\n            this.promise = null;\r\n        }\r\n    }\r\n\r\n    angular.module(\"app.toDo\")\r\n        .controller(\"toDoFormController\", [\"$location\", \"$q\", \"$routeParams\",\"$timeout\",\"appBarService\",\"toDo\",\"token\", ToDoFormController]);\r\n} "]}